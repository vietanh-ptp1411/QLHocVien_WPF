<Window x:Class="QL_MVALab.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:vm="clr-namespace:QL_MVALab.ViewModel"
        xmlns:views="clr-namespace:QL_MVALab.View"
        mc:Ignorable="d"
        Title="Quản lý lớp học online"
        Icon="C:\Users\GenG_Hinna\source\repos\QL_MVALab\QL_MVALab\Icon\iconlogo.png"
        Height="720"
        Width="1120"
        Background="#F3F4F6"
        WindowStartupLocation="CenterScreen"
        WindowState="Maximized"
        ResizeMode="CanResize">
    <Grid>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="240" />
            <ColumnDefinition Width="*" />
        </Grid.ColumnDefinitions>

        <!-- SIDEBAR -->
        <Border Grid.Column="0"
                Background="#111827"
                Padding="12">
            <DockPanel>
                <!-- Logo + tên -->
                <StackPanel DockPanel.Dock="Top"
                            Margin="0,4,0,12">
                    <Image Source="C:\Users\GenG_Hinna\source\repos\QL_MVALab\QL_MVALab\Image\logo.jpg"
                           Height="150"
                           Stretch="Fill"
                           Margin="0,0,0,8" />
                    <TextBlock Text="MVA LAB"
                               Foreground="White"
                               FontWeight="Bold"
                               FontSize="16"
                               HorizontalAlignment="Center"/>
                    <TextBlock Text="Quản lý lớp học"
                               Foreground="#9CA3AF"
                               FontSize="12"
                               HorizontalAlignment="Center" />
                </StackPanel>

                <!-- Menu -->
                <ListBox ItemsSource="{Binding MenuItems}"
                         SelectedItem="{Binding SelectedItem}"
                         BorderThickness="0"
                         Background="Transparent"
                         Foreground="White">
                    <ListBox.ItemTemplate>
                        <DataTemplate DataType="{x:Type vm:NavItem}">
                            <Grid Margin="4,2"
                                  Height="42">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="28" />
                                    <ColumnDefinition Width="*" />
                                </Grid.ColumnDefinitions>
                                <TextBlock Grid.Column="0"
                                           Text="{Binding Icon}"
                                           FontFamily="Segoe MDL2 Assets"
                                           FontSize="16"
                                           Foreground="#93C5FD"
                                           VerticalAlignment="Center"
                                           HorizontalAlignment="Center" />
                                <TextBlock Grid.Column="1"
                                           Text="{Binding Title}"
                                           VerticalAlignment="Center"
                                           FontSize="14" />
                            </Grid>
                        </DataTemplate>
                    </ListBox.ItemTemplate>
                    <ListBox.ItemContainerStyle>
                        <Style TargetType="ListBoxItem">
                            <Setter Property="HorizontalContentAlignment"
                                    Value="Stretch" />
                            <Setter Property="Background"
                                    Value="Transparent" />
                            <Setter Property="Cursor"
                                    Value="Hand" />
                            <Setter Property="Padding"
                                    Value="4" />
                            <Style.Triggers>
                                <Trigger Property="IsMouseOver"
                                         Value="True">
                                    <Setter Property="Background"
                                            Value="#1F2937" />
                                </Trigger>
                                <Trigger Property="IsSelected"
                                         Value="True">
                                    <Setter Property="Background"
                                            Value="#374151" />
                                </Trigger>
                            </Style.Triggers>
                        </Style>
                    </ListBox.ItemContainerStyle>
                </ListBox>
            </DockPanel>
        </Border>

        <!-- PANEL PHẢI -->
        <Grid Grid.Column="1">
            <Grid.RowDefinitions>
                <RowDefinition Height="44" />
                <RowDefinition Height="*" />
            </Grid.RowDefinitions>

            <!-- Header phải -->
            <Border Grid.Row="0"
                    Background="White"
                    Padding="5"
                    Margin="0,0,0,10">
                <DockPanel>
                    <!-- Cụm chào + logout -->
                    <StackPanel Orientation="Horizontal"
                                DockPanel.Dock="Right">
                        <TextBlock Text="Hello, mvalab"
                                   VerticalAlignment="Center" />
                        <Button Click="btnLogOut_Click"
                                Margin="10 0"
                                Padding="10 0">
                            <StackPanel Orientation="Horizontal">
                                <Image Source="C:\Users\GenG_Hinna\source\repos\QL_MVALab\QL_MVALab\Icon\iconLogout.png"
                                       Width="14"
                                       Height="14"
                                       Margin="0,0,6,0" />
                                <TextBlock Text="Logout" />
                            </StackPanel>
                        </Button>

                    </StackPanel>

                    <!-- Giờ & ngày: dùng property Now + StringFormat của Binding -->
                    <StackPanel Orientation="Horizontal">
                        <TextBlock Text="{Binding Now, StringFormat={}{0:HH\\:mm\\:ss}}" />
                        <TextBlock Text="{Binding Now, StringFormat={}{0: dd/MM/yyyy}}"
                                   Margin="16,0,0,0" />
                    </StackPanel>
                </DockPanel>
            </Border>

            <!-- Nội dung đổi theo ViewModel -->
            <Border Grid.Row="1"
                    Background="White"
                    Padding="10">
                <ContentControl Content="{Binding CurrentViewModel}">
                    <ContentControl.Resources>
                        <DataTemplate DataType="{x:Type vm:WelcomeViewModel}">
                            <views:WelcomeView />
                        </DataTemplate>
                        <DataTemplate DataType="{x:Type vm:HocVienViewModel}">
                            <views:Views_HocVienView />
                        </DataTemplate>
                        <DataTemplate DataType="{x:Type vm:LopHocViewModel}">
                            <views:Views_LopHocView />
                        </DataTemplate>
                        <DataTemplate DataType="{x:Type vm:KhoaHocViewModel}">
                            <views:Views_KhoaHocView />
                        </DataTemplate>
                        <DataTemplate DataType="{x:Type vm:DangKyViewModel}">
                            <views:Views_DangKyView />
                        </DataTemplate>
                        <DataTemplate DataType="{x:Type vm:HocPhiViewModel}">
                            <views:Views_HocPhiView />
                        </DataTemplate>
                        <DataTemplate DataType="{x:Type vm:GiangVienViewModel}">
                            <views:Views_GiangVienView />
                        </DataTemplate>
                        <DataTemplate DataType="{x:Type vm:BuoiHocViewModel}">
                            <views:Views_BuoiHocView />
                        </DataTemplate>
                    </ContentControl.Resources>
                </ContentControl>
            </Border>
        </Grid>
    </Grid>
</Window>